webpackJsonp([0],[function(t,e,i){"use strict";var n=i(7),o=i(21),s=Object.prototype.toString;function r(t){return"[object Array]"===s.call(t)}function a(t){return null!==t&&"object"==typeof t}function c(t){return"[object Function]"===s.call(t)}function u(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),r(t))for(var i=0,n=t.length;i<n;i++)e.call(null,t[i],i,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:r,isArrayBuffer:function(t){return"[object ArrayBuffer]"===s.call(t)},isBuffer:o,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===s.call(t)},isFile:function(t){return"[object File]"===s.call(t)},isBlob:function(t){return"[object Blob]"===s.call(t)},isFunction:c,isStream:function(t){return a(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function t(){var e={};function i(i,n){"object"==typeof e[n]&&"object"==typeof i?e[n]=t(e[n],i):e[n]=i}for(var n=0,o=arguments.length;n<o;n++)u(arguments[n],i);return e},extend:function(t,e,i){return u(e,function(e,o){t[o]=i&&"function"==typeof e?n(e,i):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},,,,function(t,e,i){"use strict";var n=i(19),o=i.n(n),s=i(3),r=(s.a.isObject,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={status:-1,props:{},errors:[]};return Object(s.b)(e,t),{isEmpty:function(){return-1===e.status},isSuccess:function(){return 1===e.status},isFailed:function(){return 0===e.status},getStatus:function(){return e.status},getProps:function(){return e.props},getErrors:function(){return e.errors},hasErrors:function(){return e.errors.length>0},setErrors:function(){e.errors.push.apply(e.errors,arguments)}}}),a=function(t,e,i){var n=i.then,s=i.error;n=n||function(t){},s=s||function(t){};var a={timeout:5e3,method:e.method||"get",url:t,params:e.params||null,data:e.data||null};o()(a).then(function(t){var e=r(t.data);e.hasErrors(),n(e)}).catch(function(t){var e=r({status:0});t.response?(e.setErrors("Oops! Server responded with error "+t.response.status),n(e)):t.request?(e.setErrors("Oops! The request timed out, please try again in a moment."),n(e)):(e.setErrors("Request error"),n(e))})};i.d(e,"a",function(){return c}),i.d(e,!1,function(){return r});var c={postUserStory:function(t,e){var i=t.ucsId,n=t.txtStory,o=t.isPublic,s=t.reviewMode;a("/study/editstory",{method:"post",data:{ucs_code:i,reviewMode:s,postStoryEdit:n,postStoryPublic:o}},e)},ajaxSharedStory:function(t,e){a("/study/ajax",{method:"post",data:t},e)},getDictListForUCS:function(t,e){var i=t.ucsId,n=t.getKnownKanji;a("/study/dict",{method:"get",params:{ucs:i,req_known_kanji:n}},e)},setVocabForCard:function(t,e){var i=t.ucs,n=t.dictid;a("/study/vocabpick",{method:"post",data:{ucs:i,dictid:n}},e)},deleteVocabForCard:function(t,e){var i=t.ucs;a("/study/vocabdelete",{method:"post",data:{ucs:i}},e)}}},function(t,e,i){"use strict";(function(e){var n=i(0),o=i(23),s={"Content-Type":"application/x-www-form-urlencoded"};function r(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a,c={adapter:("undefined"!=typeof XMLHttpRequest?a=i(8):void 0!==e&&(a=i(8)),a),transformRequest:[function(t,e){return o(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(r(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)?(r(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],function(t){c.headers[t]={}}),n.forEach(["post","put","patch"],function(t){c.headers[t]=n.merge(s)}),t.exports=c}).call(e,i(16))},function(t,e,i){"use strict";var n={name:"cjk_lang_ja",props:{className:String,html:String}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"cj-k",class:this.className,attrs:{lang:"ja","xml:lang":"ja"}},[this.html?e("span",{domProps:{innerHTML:this._s(this.html)}}):this._t("default")],2)},staticRenderFns:[]};var s=i(1)(n,o,!1,function(t){i(38)},null,null);e.a=s.exports},function(t,e,i){"use strict";t.exports=function(t,e){return function(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];return t.apply(e,i)}}},function(t,e,i){"use strict";var n=i(0),o=i(24),s=i(26),r=i(27),a=i(28),c=i(9),u="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||i(29);t.exports=function(t){return new Promise(function(e,d){var h=t.data,l=t.headers;n.isFormData(h)&&delete l["Content-Type"];var f=new XMLHttpRequest,p="onreadystatechange",v=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in f||a(t.url)||(f=new window.XDomainRequest,p="onload",v=!0,f.onprogress=function(){},f.ontimeout=function(){}),t.auth){var m=t.auth.username||"",y=t.auth.password||"";l.Authorization="Basic "+u(m+":"+y)}if(f.open(t.method.toUpperCase(),s(t.url,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f[p]=function(){if(f&&(4===f.readyState||v)&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in f?r(f.getAllResponseHeaders()):null,n={data:t.responseType&&"text"!==t.responseType?f.response:f.responseText,status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:i,config:t,request:f};o(e,d,n),f=null}},f.onerror=function(){d(c("Network Error",t,null,f)),f=null},f.ontimeout=function(){d(c("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",f)),f=null},n.isStandardBrowserEnv()){var g=i(30),w=(t.withCredentials||a(t.url))&&t.xsrfCookieName?g.read(t.xsrfCookieName):void 0;w&&(l[t.xsrfHeaderName]=w)}if("setRequestHeader"in f&&n.forEach(l,function(t,e){void 0===h&&"content-type"===e.toLowerCase()?delete l[e]:f.setRequestHeader(e,t)}),t.withCredentials&&(f.withCredentials=!0),t.responseType)try{f.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){f&&(f.abort(),d(t),f=null)}),void 0===h&&(h=null),f.send(h)})}},function(t,e,i){"use strict";var n=i(25);t.exports=function(t,e,i,o,s){var r=new Error(t);return n(r,e,i,o,s)}},function(t,e,i){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,i){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},function(t,e,i){"use strict";i(13);var n=i(2),o={data:function(){return{target:null,background:null,visible:!1}},methods:{close:function(){var t=this.target;t&&n.a.remove(t,"kk-loading-target--relative"),this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.$destroy()}}},s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"kk-loading-fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],staticClass:"kk-loading-mask",style:{backgroundColor:this.background||""}},[e("div",{staticClass:"kk-loading-spinner"},[e("div",{staticClass:"kk-html-spinner"})])])])},staticRenderFns:[]};var r=i(1)(o,s,!1,function(t){i(39)},null,null).exports,a=i(3);a.a.isNode,e.a={data:function(){return{koohiiloadingInst:null}},methods:{koohiiloadingShow:function(t){var e=t.target;t=Object(a.b)({},t);var i=new(Vue.extend(r))({el:document.createElement("div"),data:t});!function(t,e,i){i.originalPosition=Object(n.c)(e,"position")}(0,e,i),"absolute"!==i.originalPosition&&"fixed"!==i.originalPosition&&n.a.add(e,"kk-loading-target--relative"),e.appendChild(i.$el),Vue.nextTick(function(){i.visible=!0}),this.koohiiloadingInst=i},koohiiloadingHide:function(){this.koohiiloadingInst.close(),this.koohiiloadingInst=null}}}},,function(t,e,i){"use strict";e.a={methods:{koohiiformatReading:function(t){return t.replace("(","<em>").replace(")","</em>")}}}},,,function(t,e,i){"use strict";var n=i(4),o=i(6),s=i(14),r=i(12),a={name:"KoohiiDictList",components:{cjk_lang_ja:o.a},mixins:[s.a,r.a],props:{items:{type:Array,default:function(){return[]}}},data:function(){return{isLoading:!0,ucsId:0,isSetKnownKanji:!1,knownKanji:""}},computed:{KanjiReview:function(){return window.App&&window.App.KanjiReview},isKanjiReview:function(){return!!this.KanjiReview},isMobile:function(){return window.innerWidth<=720}},methods:{getKanjiCard:function(){return!!this.isKanjiReview&&this.KanjiReview.oReview.getFlashcard().getChild()},onVocabPick:function(t){var e=this;this.isKanjiReview&&(!0!==t.pick?(this.koohiiloadingShow({target:this.$refs.refLoadingMask}),n.a.setVocabForCard({ucs:this.ucsId,dictid:t.id},{then:function(i){e.onVocabPickResponse(i,t)}})):(this.koohiiloadingShow({target:this.$refs.refLoadingMask}),n.a.deleteVocabForCard({ucs:this.ucsId},{then:function(i){e.onVocabDeleteResponse(i,t)}})))},onVocabDeleteResponse:function(t,e){this.koohiiloadingHide(),t.isSuccess()&&(e.pick=!1,this.getKanjiCard().removeVocab(e),this.isKanjiReview&&this.KanjiReview.toggleDictDialog())},onVocabPickResponse:function(t,e){if(this.koohiiloadingHide(),t.isSuccess()){this.items.forEach(function(t){t.pick=!1}),e.pick=!0;var i={compound:e.c,reading:e.r,gloss:e.g};this.getKanjiCard().setVocab(i),this.isKanjiReview&&this.KanjiReview.toggleDictDialog()}},load:function(t){this.isLoading=!0,this.$nextTick(function(){var e=this;this.koohiiloadingShow({target:this.$refs.refLoadingMask}),n.a.getDictListForUCS({ucsId:t,getKnownKanji:!1===this.isSetKnownKanji},{then:function(i){e.ucsId=t,e.onDictLoadResponse(i)}})})},onDictLoadResponse:function(t,e){var i=t.getProps();this.koohiiloadingHide(),i.known_kanji&&(this.knownKanji=i.known_kanji,this.isSetKnownKanji=!0);var n=this.setKnownItems(i.items,this.knownKanji);this.formatDictEntryArray(n),this.applyVocabPicks(n,i.picks),this.items=n,this.isLoading=!1},setKnownItems:function(t,e){var i=new RegExp("^["+(e+"ぁあぃいぅうぇえぉおかがきぎくぐけげこごさざしじすずせぜそぞただちぢっつづてでとどなにぬねのはばぱひびぴふぶぷへべぺほぼぽまみむめもゃやゅゆょよらりるれろゎわゐゑをんゔゕゖ ゙ ゚゛゜ゝゞゟ゠ァアィイゥウェエォオカガキギクグケゲコゴサザシジスズセゼソゾタダチヂッツヅテデトドナニヌネノハバパヒビピフブプヘベペホボポマミムメモャヤュユョヨラリルレロヮワヰヱヲンヴヵヶヷヸヹヺ・ーヽヾヿ｟｠｡｢｣､･ｦｧｨｩｪｫｬｭｮｯｰｱｲｳｴｵｶｷｸｹｺｻｼｽｾｿﾀﾁﾂﾃﾄﾅﾆﾇﾈﾉﾊﾋﾌﾍﾎﾏﾐﾑﾒﾓﾔﾕﾖﾗﾘﾙﾚﾛﾜﾝﾞ")+"]+$");t.forEach(function(t){t.known=i.test(t.c)});var n=t.filter(function(t){return!0===t.known}),o=t.filter(function(t){return!1===t.known});return n.concat(o)},formatDictEntryArray:function(t){var e=this;t.forEach(function(t){t.fr=e.koohiiformatReading(t.r)})},applyVocabPicks:function(t,e){t.forEach(function(t){t.pick=e.includes(t.id)})}},created:function(){this.isLoading=!0},beforeDestroy:function(){}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{ref:"refLoadingMask",staticClass:"dict-panel"},[t.isLoading?[i("div",{staticStyle:{"min-height":"100px"}})]:t.items.length?[i("div",{staticClass:"dict-list"},[t._l(t.items,function(e){return[i("div",{key:e.id,class:["dl_item",{"dl_item--pick":e.pick}],on:{click:function(i){t.onVocabPick(e)}}},[i("div",{staticClass:"dl_t"},[t.isKanjiReview?i("div",{staticClass:"dl_t_menu"},[!0===e.pick?i("i",{staticClass:"fa fa-star"}):i("i",{staticClass:"far fa-star"})]):t._e(),t._v(" "),i("cjk_lang_ja",{class:{known:e.known},attrs:{className:"c vocab_c",html:e.c}}),t._v(" "),i("cjk_lang_ja",{attrs:{className:"r vocab_r",html:e.fr}})],1),t._v(" "),i("div",{staticClass:"dl_d"},[t._v("\n            "+t._s(e.g)+"\n          ")]),t._v(" "),i("div",{attrs:{if:"isMenu"}})])]})],2)]:[i("p",[t._v("There are no common words using this character.")])]],2),t._v(" "),t.isMobile?i("div",{staticClass:"uiBMenu"},[t._m(0)]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"uiBMenuItem"},[e("a",{staticClass:"uiFcBtnGreen JSDialogHide uiIBtn uiIBtnDefault",attrs:{href:"#"}},[e("span",[this._v("Close")])])])}]};var u=i(1)(a,c,!1,function(t){i(18)},null,null);e.a=u.exports},function(t,e){},function(t,e,i){t.exports=i(20)},function(t,e,i){"use strict";var n=i(0),o=i(7),s=i(22),r=i(5);function a(t){var e=new s(t),i=o(s.prototype.request,e);return n.extend(i,s.prototype,e),n.extend(i,e),i}var c=a(r);c.Axios=s,c.create=function(t){return a(n.merge(r,t))},c.Cancel=i(11),c.CancelToken=i(36),c.isCancel=i(10),c.all=function(t){return Promise.all(t)},c.spread=i(37),t.exports=c,t.exports.default=c},function(t,e){function i(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(i(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&i(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,i){"use strict";var n=i(5),o=i(0),s=i(31),r=i(32);function a(t){this.defaults=t,this.interceptors={request:new s,response:new s}}a.prototype.request=function(t){"string"==typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),(t=o.merge(n,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[r,void 0],i=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)i=i.then(e.shift(),e.shift());return i},o.forEach(["delete","get","head","options"],function(t){a.prototype[t]=function(e,i){return this.request(o.merge(i||{},{method:t,url:e}))}}),o.forEach(["post","put","patch"],function(t){a.prototype[t]=function(e,i,n){return this.request(o.merge(n||{},{method:t,url:e,data:i}))}}),t.exports=a},function(t,e,i){"use strict";var n=i(0);t.exports=function(t,e){n.forEach(t,function(i,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=i,delete t[n])})}},function(t,e,i){"use strict";var n=i(9);t.exports=function(t,e,i){var o=i.config.validateStatus;i.status&&o&&!o(i.status)?e(n("Request failed with status code "+i.status,i.config,null,i.request,i)):t(i)}},function(t,e,i){"use strict";t.exports=function(t,e,i,n,o){return t.config=e,i&&(t.code=i),t.request=n,t.response=o,t}},function(t,e,i){"use strict";var n=i(0);function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,i){if(!e)return t;var s;if(i)s=i(e);else if(n.isURLSearchParams(e))s=e.toString();else{var r=[];n.forEach(e,function(t,e){null!==t&&void 0!==t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),r.push(o(e)+"="+o(t))}))}),s=r.join("&")}return s&&(t+=(-1===t.indexOf("?")?"?":"&")+s),t}},function(t,e,i){"use strict";var n=i(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,i,s,r={};return t?(n.forEach(t.split("\n"),function(t){if(s=t.indexOf(":"),e=n.trim(t.substr(0,s)).toLowerCase(),i=n.trim(t.substr(s+1)),e){if(r[e]&&o.indexOf(e)>=0)return;r[e]="set-cookie"===e?(r[e]?r[e]:[]).concat([i]):r[e]?r[e]+", "+i:i}}),r):r}},function(t,e,i){"use strict";var n=i(0);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function o(t){var n=t;return e&&(i.setAttribute("href",n),n=i.href),i.setAttribute("href",n),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return t=o(window.location.href),function(e){var i=n.isString(e)?o(e):e;return i.protocol===t.protocol&&i.host===t.host}}():function(){return!0}},function(t,e,i){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(){this.message="String contains an invalid character"}o.prototype=new Error,o.prototype.code=5,o.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,i,s=String(t),r="",a=0,c=n;s.charAt(0|a)||(c="=",a%1);r+=c.charAt(63&e>>8-a%1*8)){if((i=s.charCodeAt(a+=.75))>255)throw new o;e=e<<8|i}return r}},function(t,e,i){"use strict";var n=i(0);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,i,o,s,r){var a=[];a.push(t+"="+encodeURIComponent(e)),n.isNumber(i)&&a.push("expires="+new Date(i).toGMTString()),n.isString(o)&&a.push("path="+o),n.isString(s)&&a.push("domain="+s),!0===r&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,i){"use strict";var n=i(0);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){n.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=o},function(t,e,i){"use strict";var n=i(0),o=i(33),s=i(10),r=i(5),a=i(34),c=i(35);function u(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return u(t),t.baseURL&&!a(t.url)&&(t.url=c(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||r.adapter)(t).then(function(e){return u(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return s(e)||(u(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,i){"use strict";var n=i(0);t.exports=function(t,e,i){return n.forEach(i,function(i){t=i(t,e)}),t}},function(t,e,i){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,i){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,i){"use strict";var n=i(11);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var i=this;t(function(t){i.reason||(i.reason=new n(t),e(i.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o(function(e){t=e}),cancel:t}},t.exports=o},function(t,e,i){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e){},function(t,e){},function(t,e,i){"use strict";var n=i(2),o=i(4),s={name:"KoohiiCharsLeft",data:function(){return{}},props:{text:{type:String,required:!0},maxLength:{type:Number,required:!0},warningLimit:{type:Number,default:0}},computed:{charsLeft:function(){return this.maxLength-this.text.length},isTooLong:function(){return this.charsLeft<0},isWarning:function(){return this.warningLimit&&this.charsLeft>=0&&this.charsLeft<=this.warningLimit}}},r={render:function(){var t=this.$createElement;return(this._self._c||t)("span",{class:["kk-charsleft",{"kk-charsleft--invalid":this.isTooLong},{"kk-charsleft--warning":this.isWarning}]},[this._v(this._s(this.charsLeft))])},staticRenderFns:[]};var a=i(1)(s,r,!1,function(t){i(42)},null,null).exports,c=i(6),u={props:{profileLink:{type:String,required:!0},story:{type:String,required:!0},divId:{type:String,required:!0}}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"newstory-fadein",appear:""}},[i("div",{staticClass:"sharedstory rtkframe",attrs:{lang:"ja"}},[i("div",{staticClass:"sharedstory_author",domProps:{innerHTML:t._s(t.profileLink)}}),t._v(" "),i("div",{staticClass:"bookstyle"},[i("div",{staticClass:"story",domProps:{innerHTML:t._s(t.story)}})]),t._v(" "),i("div",{staticClass:"sharedstory_meta flex"},[i("div",{staticClass:"lastmodified col-m-1 flex-a-c"},[i("i",{staticClass:"far fa-clock"}),t._v(" NEW")]),t._v(" "),i("div",{staticClass:"actions col-m ta-r JsAction",attrs:{id:t.divId}},[t._v("\n         \n      ")])])])])},staticRenderFns:[]};var h=i(1)(u,d,!1,function(t){i(43)},null,null).exports,l=i(12),f={name:"KoohiiEditStory",components:{cjk_lang_ja:c.a,KoohiiCharsLeft:a},mixins:[{data:function(){return{koohiiformErrors:[]}},computed:{koohiiformGetErrors:function(){return!!this.koohiiformErrors.length&&"<span>"+this.koohiiformErrors.join("</span><span>")+"</span>"}},methods:{koohiiformHandleResponse:function(t){this.koohiiformErrors=t.getErrors()}}},l.a],props:{kanjiData:Object,custKeyword:String,isReviewMode:{type:Boolean,default:!1},isFavoriteStory:{type:Boolean,default:!1},showLearnButton:{type:Boolean,default:!1},showLearnedMessage:{type:Boolean,default:!1},postStoryView:{type:String,default:""},postStoryEdit:{type:String,default:""},postStoryPublic:{type:Boolean,default:!1}},data:function(){return{oEditKeyword:null,isEditing:!1,vmStoryPublished:null,uneditedStory:""}},computed:{displayKeyword:function(){return this.custKeyword||this.kanjiData.keyword},editKeywordUrl:function(){return"/study/editkeyword/id/"+this.kanjiData.ucs_id}},methods:{onEditStory:function(){this.editStory()},onSubmit:function(){this.koohiiloadingShow({target:this.$refs.maskArea}),o.a.postUserStory({ucsId:this.kanjiData.ucs_id,txtStory:this.postStoryEdit,isPublic:this.postStoryPublic,reviewMode:this.isReviewMode},{then:this.onSaveStoryResponse.bind(this)})},onSaveStoryResponse:function(t){var e=t.getProps();if(this.koohiiloadingHide(),this.koohiiformHandleResponse(t),!t.hasErrors()){this.isFavoriteStory=!1,this.postStoryView=e.postStoryView,this.isEditing=!1,this.vmStoryPublished&&(this.vmStoryPublished.$destroy(),this.vmStoryPublished=null);var i=Object(n.b)("#"+e.sharedStoryId);if(i.el()){var o=i.closest(".rtkframe");Object(n.b)(o).remove()}if(!this.isReviewMode&&e.isStoryShared){var s=document.createElement("div");Object(n.d)(s,"#sharedstories-new .title");var r={profileLink:e.sharedStoryAuthor,story:this.postStoryView.replace(/<br\/>/g," "),divId:e.sharedStoryId};this.vmStoryPublished=VueInstance(h,s,r)}}},onCopySharedStory:function(t){this.isEditing?window.alert("Can not copy a story since you are currently editing a story."):(this.editStory(t),this.$nextTick(function(){var t=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;window.scrollTo(t,0)}))},onCancel:function(){this.doCancel()},doCancel:function(){this.postStoryEdit=this.uneditedStory,this.isEditing=!1},editStory:function(t){this.uneditedStory=this.postStoryEdit,t&&(this.postStoryEdit=t,this.postStoryPublic=!1),this.isEditing=!0,this.$nextTick(function(){var t=Object(n.b)("#frmStory")[0];this.setCaretToEnd(t)})},onKeyword:function(t){var e=this,i=t.target;if(this.oEditKeyword)this.oEditKeyword.show();else{var n=this.editKeywordUrl;this.oEditKeyword=new App.Ui.EditKeywordComponent(n,{context:["my-story","tr","tr",null,[-6,6]]},function(t){i.innerHTML=t,e.oEditKeyword.destroy(),e.oEditKeyword=null})}return!1},setCaretToEnd:function(t){if(t.createTextRange){var e=t.createTextRange();e.collapse(!1),e.select()}else if(t.setSelectionRange){t.focus();var i=t.value.length;t.setSelectionRange(i,i)}}},beforeDestroy:function(){this.oEditKeyword&&(this.oEditKeyword.destroy(),this.oEditKeyword=null)}},p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"min-height":"100px",background:"#ccc"}},[i("form",{attrs:{name:"EditStory",method:"post",action:"/study/kanji/1"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.kanjiData.ucs_id,expression:"kanjiData.ucs_id"}],attrs:{type:"hidden",name:"ucs_code"},domProps:{value:t.kanjiData.ucs_id},on:{input:function(e){e.target.composing||t.$set(t.kanjiData,"ucs_id",e.target.value)}}}),t._v(" "),i("div",{attrs:{id:"my-story",lang:"ja"}},[i("div",{ref:"maskArea",staticClass:"padding rtkframe"},[i("div",{staticClass:"left"},[i("div",{staticClass:"framenum",attrs:{title:"Frame number"}},[t._v(t._s(t.kanjiData.framenum))]),t._v(" "),i("div",{class:{kanji:!0,onhover:t.isReviewMode}},[i("cjk_lang_ja",[t._v(t._s(t.kanjiData.kanji))])],1),t._v(" "),i("div",{staticClass:"strokecount",attrs:{title:"Stroke count"}},[t._v("["+t._s(t.kanjiData.strokecount)+"]"),i("br"),t._v(" "),i("span",{staticStyle:{"font-size":"120%"}},[i("cjk_lang_ja",[t._v(t._s(t.kanjiData.onyomi))])],1)])]),t._v(" "),i("div",{staticClass:"right"},[i("div",{staticClass:"keyword"},[i("span",{staticClass:"JSEditKeyword",attrs:{title:"Click to edit the keyword"},on:{click:t.onKeyword}},[t._v(t._s(t.displayKeyword))])]),t._v(" "),i("div",{attrs:{id:"storybox"}},[t.isEditing?i("div",{attrs:{id:"storyedit"}},[t.koohiiformGetErrors?i("div",{staticClass:"formerrormessage"},[i("span",{domProps:{innerHTML:t._s(t.koohiiformGetErrors)}})]):t._e(),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.postStoryEdit,expression:"postStoryEdit"}],attrs:{name:"txtStory",id:"frmStory"},domProps:{value:t.postStoryEdit},on:{input:function(e){e.target.composing||(t.postStoryEdit=e.target.value)}}}),t._v(" "),i("div",{staticClass:"controls valign"},[i("div",{staticStyle:{float:"left"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.postStoryPublic,expression:"postStoryPublic"}],attrs:{type:"checkbox",name:"chkPublic",id:"storyedit_public"},domProps:{checked:Array.isArray(t.postStoryPublic)?t._i(t.postStoryPublic,null)>-1:t.postStoryPublic},on:{change:function(e){var i=t.postStoryPublic,n=e.target,o=!!n.checked;if(Array.isArray(i)){var s=t._i(i,null);n.checked?s<0&&(t.postStoryPublic=i.concat([null])):s>-1&&(t.postStoryPublic=i.slice(0,s).concat(i.slice(s+1)))}else t.postStoryPublic=o}}}),t._v(" "),i("label",{attrs:{for:"storyedit_public"}},[t._v("Share this story")])]),t._v(" "),i("div",{staticStyle:{float:"right"}},[i("koohii-chars-left",{attrs:{text:t.postStoryEdit,"max-length":512,"warning-limit":20}}),t._v(" "),i("input",{attrs:{type:"button",value:"Save changes",title:"Save/Update story"},on:{click:function(e){return e.preventDefault(),t.onSubmit(e)}}}),t._v(" "),i("input",{attrs:{type:"button",value:"Cancel",name:"cancel",title:"Cancel changes"},on:{click:t.onCancel}})],1),t._v(" "),i("div",{staticClass:"clear"})])]):i("div",{attrs:{id:"storyview"}},[i("div",{staticClass:"bookstyle",attrs:{id:"sv-textarea",title:"Click to edit your story"},on:{click:t.onEditStory}},[t.postStoryView.length?[i("div",{domProps:{innerHTML:t._s(t.postStoryView)}}),t._v(" "),t.isFavoriteStory?i("div",{staticClass:"favstory"},[i("i",{staticClass:"fa fa-star"}),t._v("You starred this story\n                ")]):t._e()]:[i("div",{staticClass:"empty"},[t._v("[ click here to enter your story ]")])]],2),t._v(" "),t.isReviewMode?t._e():[t.showLearnButton?i("div",{staticClass:"controls"},[i("input",{staticClass:"btn btn-success",attrs:{type:"submit",name:"doLearned",value:"Add to learned list"}})]):t._e(),t._v(" "),t.showLearnedMessage?i("div",{staticClass:"msg-relearned"},[t._v("\n                This kanji is ready for review in the "),i("strong",[t._v("learned")]),t._v(" list.\n              ")]):t._e()]],2)])]),t._v(" "),i("div",{staticClass:"clear"})]),t._v(" "),i("div",{staticClass:"bottom"})])])])},staticRenderFns:[]};var v=i(1)(f,p,!1,function(t){i(41)},null,null);e.a=v.exports},function(t,e){},function(t,e){},function(t,e){},,,,,,,,,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Core.make(),o=YAHOO,s=o.util.Dom,r=o.util.Event;n.prototype={blobs:[],curblob:null,flow:!1,ajaxRequest:null,ajaxIndicator:null,elAjaxError:null,init:function(t){if(this.blobs=[],this.flow=!1,this.eventDispatcher=new Core.Ui.EventDispatcher,t.events)for(var e in t.events)this.eventDispatcher.connect(e,t.events[e]);this.elAjaxError=s.get(t.elError);var i=this.elAjaxError.getElementsByTagName("a")[0];r.on(i,"click",this.reconnectEvent,this,!0),this.ajaxIndicator=s.get(t.elLoading)},add:function(t,e){e.method=e.method||"post",e.scope=this,e.success=this.onAjaxSuccess,e.failure=this.onAjaxFailure,e.customevents={onStart:this.onAjaxStart,onComplete:this.onAjaxComplete},this.blobs.push({url:t,options:e})},start:function(){if(this.flow)return!1;this.flow=!0,this.eventDispatcher.notify("onQueueStart"),this.next()},end:function(){this.blobs=[],this.flow=!1,this.eventDispatcher.notify("onQueueEnd")},busy:function(){return!0===this.flow},next:function(){var t=this.curblob=this.blobs.shift();void 0!==t?this.send(t):this.end()},send:function(t){this.ajaxRequest=new Core.Ui.AjaxRequest(t.url,t.options)},onAjaxStart:function(t,e){s.setStyles(this.ajaxIndicator,{position:"absolute",zIndex:1e3,display:"block"})},onAjaxComplete:function(t,e){s.setStyles(this.ajaxIndicator,{display:"none"})},onAjaxSuccess:function(t){var e=["onSuccess",t];o.lang.isUndefined(this.curblob.options.argument)||e.push(this.curblob.options.argument),this.eventDispatcher.notify.apply(this.eventDispatcher,e),this.next()},onAjaxFailure:function(t){var e=this.ajaxRequest.getHttpHeader(t,"RTK-Error");this.ajaxRequest=null,-1!==t.status?null!==e?this.setErrorDialog(e):(e=t.status+" "+t.statusText,alert('Oops! The server returned a "'+e+'" error.')):this.setErrorDialog("Oops! Connection timed out.")},reconnectEvent:function(t){this.setErrorDialog(!1),this.send(this.curblob),r.stopEvent(t)},setErrorDialog:function(t){t&&(s.down(this.elAjaxError,"uiFcAjaxError_msg").innerHTML=t);s.toggle(this.elAjaxError,!!t)}};var a=Core.make(),c=YAHOO,u=(c.util.Dom,c.util.Event);a.prototype={keys:null,init:function(t){(t=t||{}).bDisableInInput=!1!==t.bDisableInInput,this.options=t,this.oKeys=[],this.evtCache=new Core.Ui.EventCache,this.evtCache.addEvent(document,"keydown",Core.bind(this.evKeydown,this))},destroy:function(){this.evtCache.destroy()},getKeyCode:function(t){return"number"==typeof t?t:t.toUpperCase().charCodeAt(0)},addListener:function(t,e){var i=this.getKeyCode(t);this.oKeys[i]=e},removeListener:function(t){var e=this.getKeyCode(t);delete this.oKeys[e]},evKeydown:function(t){var e,i;if(this.options.bDisableInInput){var n=u.getTarget(t);if(3===n.nodeType&&(n=n.parentNode),"INPUT"===n.tagName||"TEXTAREA"===n.tagName||"SELECT"===n.tagName)return}if(e=t.ctrlKey,i=t.keyCode,!e){var o=this.oKeys[i];if(o)return o.call(null,t),u.stopEvent(t),!1}return!0}};var d=Core.make(),h=YAHOO,l=h.util.Dom;h.util.Event;d.prototype={items:null,position:null,cache:null,cacheStart:null,cacheEnd:null,prefetchPos:null,max_undo:null,undoLevel:null,num_prefetch:null,eventDispatcher:null,postCache:null,ajaxQueue:null,init:function(t){if(this.options=t,this.options.max_undo=t.max_undo||3,this.options.num_prefetch=t.num_prefetch||10,this.options.put_request=!1!==t.put_request,this.items=this.options.items,this.max_undo=this.options.max_undo,this.num_prefetch=this.options.num_prefetch,this.items&&this.items.length){this.eventDispatcher=new Core.Ui.EventDispatcher;var e=t.events.scope;for(var i in t.events)this.eventDispatcher.connect(i,t.events[i],e);this.ajaxQueue=new Core.Ui.AjaxQueue({elError:"uiFcAjaxError",elLoading:"uiFcAjaxLoading",events:{onSuccess:Core.bind(this.onAjaxSuccess,this)}}),App.getBodyED().on("uiFcAction",this.onActionEvent,this),this.oKeyboard=new Core.Ui.Keyboard,this.postCache=[],this.undoLevel=0,this.curCard=null,this.beginReview()}else alert("No flashcard items in this selection.")},updateUnloadEvent:function(){this.getPostCount()?window.onbeforeunload=function(){return"WAIT! You may lose a few flashcard answers if you leave the page now.\r\nSelect CANCEL to stay on this page, and then click the END button to\r\ncomplete this review session."}:window.onbeforeunload=null},onActionEvent:function(t,e){var i=l.getDataset(e),n=i.action;return Core.assert(!!i.action,'onActionEvent() bad "action" attribute, element %o',e),!1!==this.notify("onAction",n,t)},connect:function(t,e,i){this.eventDispatcher.connect(t,e,i)},disconnect:function(t,e){this.eventDispatcher.disconnect(t,e)},notify:function(){return this.eventDispatcher.notify.apply(this.eventDispatcher,arguments)},beginReview:function(){this.notify("onBeginReview"),this.position=-1,this.cache={},this.cacheStart=0,this.cacheEnd=-1,this.cacheNext=-1,this.prefetchPos=0,this.forward()},endReview:function(){if(this.position<=0)return this.options.back_url?void(window.location.href=this.options.back_url):void 0;this.destroyCurCard(),this.options.put_request?this.sendReceive(!0):this.notify("onEndReview")},forward:function(){this.position++,this.undoLevel>0&&this.undoLevel--,this.destroyCurCard(),this.position>=this.items.length?this.endReview():(this.connect("onWaitCache",this.cardReady,this),this.sendReceive(),this.cleanCache(),this.cacheEnd>=this.position&&this.cardReady())},backward:function(){if(this.undoLevel>=this.max_undo)throw new Error("FlashcardReview::backward() undoLevel >= max_undo");if(!(this.position<=0)){if(this.cacheStart>=this.position)throw new Error("FlashcardReview::backward() on empty cache");this.destroyCurCard(),this.undoLevel++,this.position--,this.options.put_request&&this.notify("onFlashcardUndo",this.unanswerCard()),this.cardReady()}},cardReady:function(){this.disconnect("onWaitCache"),this.notify("onFlashcardCreate");var t={cardData:this.getFlashcardData(),reviewMode:Koohii.UX.reviewMode};this.curCard=VueInstance(Koohii.UX.KoohiiFlashcard,"#uiFcMain",t,!1),this.setFlashcardState(0),this.curCard.display(!0)},destroyCurCard:function(){if(this.curCard){this.notify("onFlashcardDestroy"),this.curCard.$destroy();var t=this.curCard.$el;t&&t.parentNode.removeChild(t),this.curCard=null}},sendReceive:function(t){var e={};if(this.cacheEnd<this.items.length-1&&this.position>=this.prefetchPos&&this.cacheNext<=this.cacheEnd){var i=this.cacheEnd+1,n=Math.min(i+this.num_prefetch,this.items.length)-1;e.get=this.items.slice(i,n+1),this.cacheNext=i}if(this.options.put_request&&(e.get||t)){var o,s,r=0;if(t)o=this.postCache;else for(r=this.getPostCount()>this.max_undo?this.getPostCount()-this.max_undo:0,o=[],s=0;s<r;s++)o.push(this.postCache[s]);o.length>0&&(e.put=o)}return!(!e.get&&!e.put)&&(e.get&&this.options.params&&(e.opt=this.options.params),this.ajaxQueue.add(this.options.ajax_url,{method:"post",json:e,argument:t?"end":this.cacheNext}),this.ajaxQueue.start(),!0)},onAjaxSuccess:function(t,e){var i,n=t.responseJSON;if(n){if(n.get&&n.get.length>0){for(e!==this.cacheNext&&Core.halt("onAjaxSuccess(): this.cacheNext inconsistency"),this.cacheEnd=this.cacheNext+n.get.length-1,this.prefetchPos=this.cacheNext+Math.floor(n.get.length/2)+1,i=0;i<n.get.length;i++)this.cacheItem(n.get[i]);this.notify("onWaitCache")}if(n.put&&n.put.length>0){for(i=0;i<n.put.length;i++){var o=n.put[i];this.removePostData(o)}this.updateUnloadEvent()}"end"===e&&this.notify("onEndReview")}},cacheItem:function(t){this.cache[t.id]=t},cleanCache:function(){for(;this.cacheStart<this.position-this.max_undo;){var t=this.items[this.cacheStart];delete this.cache[t],this.cacheStart++}},getOption:function(t){return this.options[t]},getPosition:function(){return this.position},getFlashcard:function(){return this.curCard},getFlashcardData:function(){var t=this.items[this.position];return t?this.cache[t]:null},getPostCount:function(){return this.postCache.length},getNumUndos:function(){return Math.min(this.position,this.max_undo-this.undoLevel)},getItems:function(){return this.items},setFlashcardState:function(t){this.curCard&&this.curCard.setState(t),this.notify("onFlashcardState",t)},getFlashcardState:function(){return!!this.curCard&&this.curCard.getState()},addShortcutKey:function(t,e){this.eventDispatcher.hasListeners("onAction")||Core.warn('FlashcardReview::addShortcutKey() Adding shortcut key without "onAction" listener'),this.oKeyboard.addListener(t,Core.bind(this.shortcutKeyListener,this,e))},shortcutKeyListener:function(t,e){this.notify("onAction",e,t)},answerCard:function(t){this.postCache.push(t),this.updateUnloadEvent()},unanswerCard:function(){var t,e;if(this.getPostCount()<=0)throw new Error;return t=this.items[this.position],e=this.removePostData(t),this.updateUnloadEvent(),e},removePostData:function(t){var e;for(e=0;e<this.postCache.length;e++){if(this.postCache[e].id===t)return this.postCache.splice(e,1)[0]}}};var f=i(17),p=i(40),v=i(6),m=i(14),y={name:"KoohiiFlashcardKanji",components:{cjk_lang_ja:v.a},mixins:[m.a],data:function(){return{vocab:[]}},computed:{reviewMode:function(){return this.$parent.reviewMode},cardData:function(){return this.$parent.cardData},hasVocab:function(){return this.vocab.length>0}},methods:{onVocabClick:function(){App.KanjiReview.toggleDictDialog()},setVocab:function(t){var e=this,i=t;this.clearVocab(),this.$nextTick(function(){e.vocab.push(i),e.updateSourceCard(e.vocab)})},removeVocab:function(t){this.clearVocab(),this.updateSourceCard(this.vocab)},clearVocab:function(){this.vocab.splice(0)},updateSourceCard:function(t){this.cardData.vocab=t},formatCompound:function(t){var e=0===this.$parent.getState(),i=this.cardData.kanji;return e&&(t=t.replace(i,'<span class="cloze"><u>'+i+"</u></span>")),t}},beforeMount:function(){var t=this.cardData.vocab||[];this.vocab=t}},g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{"fc-kanji":!0,"with-yomi":t.hasVocab}},[t.reviewMode.freemode?t._e():[i("a",{staticClass:"uiGUI uiFcAction",attrs:{id:"uiFcMenu",href:"#",title:"Edit Flashcard","data-action":"fcmenu","data-uri":t.reviewMode.fc_edit_uri,"data-param":t.reviewMode.fc_edit_params}},[i("i",{staticClass:"fa fa-bars"})])],t._v(" "),i("div",{staticClass:"d-keyword",domProps:{innerHTML:t._s(t.cardData.keyword)}}),t._v(" "),i("div",{staticClass:"d-strokec",attrs:{title:"Stroke count"}},[i("cjk_lang_ja",{attrs:{html:"&#30011;&#25968;",className:"kanji"}}),i("span",[t._v(t._s(t.cardData.strokecount))])],1),t._v(" "),i("div",{staticClass:"d-framenr",domProps:{innerHTML:t._s(t.cardData.framenum)}}),t._v(" "),i("div",{staticClass:"uiFcInner"},[t.hasVocab?t._e():[i("div",{staticClass:"uiFcHalf d-kanji"},[i("div",{staticClass:"tb"},[i("div",{staticClass:"td"},[i("cjk_lang_ja",{attrs:{html:t.cardData.kanji}})],1)])])],t._v(" "),t.hasVocab?[i("div",{staticClass:"uiFcHalf d-kanji",attrs:{"k-note":"fix-reflow"}},[i("div",{staticClass:"tb"},[i("div",{staticClass:"td"},[i("cjk_lang_ja",{attrs:{html:t.cardData.kanji}})],1)])]),t._v(" "),i("div",{staticClass:"uiFcHalf d-yomi"},[i("div",{staticClass:"d-yomi_pad"},[i("transition",{attrs:{name:"uiFcYomi-fadein",appear:""}},[i("div",t._l(t.vocab,function(e){return i("div",{key:e.dictid,staticClass:"uiFcYomi",on:{click:function(e){return e.stopPropagation(),t.onVocabClick(e)}}},[i("div",[i("cjk_lang_ja",{attrs:{className:"vyc vocab_c",html:t.formatCompound(e.compound)}}),t._v(" "),i("cjk_lang_ja",{attrs:{className:"vyr vocab_r",html:t.koohiiformatReading(e.reading)}})],1),t._v(" "),i("div",{staticClass:"vyg"},[t._v(t._s(e.gloss))])])}))])],1)])]:t._e()],2)],2)},staticRenderFns:[]};var w=i(1)(y,g,!1,function(t){i(56)},null,null).exports,_={name:"KoohiiFlashcardVocabShuffle",components:{cjk_lang_ja:v.a},data:function(){return{}},computed:{cardData:function(){return this.$parent.cardData}},methods:{}},C={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc-vshuffle"},[i("cjk_lang_ja",{attrs:{className:"ta-c dispword",html:t.cardData.dispword}}),t._v(" "),i("cjk_lang_ja",{attrs:{className:"ta-c reading"}},[t._v(t._s(t.cardData.reading))]),t._v(" "),i("div",{staticClass:"ta-c glossary"},[t._v(t._s(t.cardData.glossary))])],1)},staticRenderFns:[]};var b=i(1)(_,C,!1,function(t){i(57)},null,null).exports,k={name:"KoohiiFlashcard",components:{kanji:w,vocabshuffle:b},data:function(){return{currentView:w,resizedCard:!1,cardHeight:"auto"}},props:{cardData:Object,reviewMode:Object,fc_state:{type:Number,default:0},is_displayed:{type:Boolean,default:!1}},methods:{setState:function(t){this.fc_state=t},getState:function(){return this.fc_state},getChild:function(){return this.$refs.card},display:function(t){if(window.innerWidth<=700&&(this.resizedCard||(this.resizedCard=0),t)){var e=window.innerHeight;if(parseInt(e)){var i=e-147;i>150&&(this.resizedCard=i,this.cardHeight=i)}}this.is_displayed=t}},beforeDestroy:function(){},beforeMount:function(){},created:function(){this.currentView=this.reviewMode.fc_view}},S={render:function(){var t=this.$createElement,e=this._self._c||t;return this.is_displayed?e("div",{staticClass:"uiFcCard uiFcAction",class:{"is-reverse":this.reviewMode.fc_reverse,"uiFcState-0":0===this.fc_state,"uiFcState-1":1===this.fc_state},style:{height:this.cardHeight+"px"},attrs:{"data-action":"flip"}},[e(this.currentView,{ref:"card",tag:"component"})],1):this._e()},staticRenderFns:[]};var j=i(1)(k,S,!1,function(t){i(55)},null,null).exports,x=i(4);if(Core.Ui.AjaxQueue=n,Core.Ui.Keyboard=a,App.Ui.FlashcardReview=d,window.Koohii&&window.Koohii.UX){var E=window.Koohii.UX;E.KoohiiDictList=f.a,E.KoohiiFlashcard=j,E.KoohiiEditStory=p.a,Koohii.API=x.a}},function(t,e){},function(t,e){},function(t,e){}],[54]);